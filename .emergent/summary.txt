<analysis>**original_problem_statement:**
Crie um portal web profissional para o Instituto Jussara Kaisel, com login individual por usuária, focado em mentorias, organização de processos e acompanhamento personalizado.

**PRODUCT REQUIREMENTS:**
1.  **Autenticação:** Login por email/senha; separação de papéis entre Administradora (acesso total) e Mentorada (acesso apenas aos seus dados).
2.  **Estrutura de Páginas (Mentorada):**
    *   **Dashboard:** Resumo da mentoria ativa, sessão atual, próxima tarefa, status financeiro, botão de mensagem.
    *   **Minha Mentoria:** Detalhes da mentoria, upload/visualização de PDF, campos de texto para diagnóstico e foco.
    *   **Sessões:** Lista cronológica com tema, data, links (vídeo/áudio), e resumo.
    *   **Tarefas:** Lista semanal com descrição, status (pendente/concluída), e campo de reflexão.
    *   **Mensagens:** Sistema de chat privado entre mentora e mentorada.
    *   **Financeiro:** Detalhes de pagamento, valor, e status das parcelas.
    *   **Meus Produtos:** Lista de produtos/cursos adquiridos.
3.  **Administração (Mentora):**
    *   CRUD completo para Mentoradas, Mentorias, Sessões, Tarefas, Produtos.
    *   Atualização do status financeiro.
    *   Gerenciamento de mensagens.
4.  **Requisitos Gerais:**
    *   Interface limpa, profissional e responsiva.
    *   Não processar pagamentos, apenas exibir informações.
    *   O objetivo é centralizar a experiência da mentorada.
    *   Integração com ferramentas de agendamento (Calendly, Google Agenda).

**User's preferred language**: Portuguese (Brazil). The next agent MUST respond in Portuguese.

**what currently exists?**
A full-stack application using React, FastAPI, and MongoDB. It features a two-role system (admin/mentee) with JWT authentication.

The **Admin Panel** is a comprehensive tabbed interface for managing:
*   Mentees (CRUD)
*   Mentorias (CRUD with cover image uploads)
*   Sessões (CRUD, with links to mentees)
*   Tarefas (CRUD, with links to mentees)
*   Financeiro (CRUD with payment methods, currency selection)
*   Produtos (CRUD with vitrine style layout, cover image uploads, and pricing)
*   Agendamentos (UI for Calendly/Google Calendar configuration)

The **Mentee Portal** includes:
*   A Dashboard summarizing mentoria status, tasks, and financials.
*   A full-featured Profile page where users can upload a profile picture and edit their name, country, phone, address, and preferred currency.
*   Dedicated pages for Minhas Mentorias, Tarefas, Calendário, and Financeiro.

A direct file upload system has been implemented for cover images (mentorias, produtos) and profile pictures, storing files on the server.

**Last working item**:
*   **Last item agent was working:** Implementing a large set of user-requested features, primarily focused on enhancing financial tracking, session management, and adding an agenda to the dashboard. The agent had just started creating the backend endpoints and frontend components for these features.
*   **Status:** IN PROGRESS
*   **Agent Testing Done:** N
*   **Which testing method agent to use?** Both (This is a large feature set impacting frontend and backend).
*   **User Testing Done:** N

**All Pending/In progress Issue list**:
*   **Issue 1: Detailed Financial Editing (P0)**
    *   **Description:** The user needs to edit individual payments for each mentee, including the ability to mark installments as paid, record the payment date, and set the value paid. The system should also display prices in the user's selected currency.
    *   **Next debug checklist:**
        1.  Create a new data model (or modify the existing  model) to store individual payment records (parcelas) with , , and .
        2.  Implement backend endpoints (e.g., ) to update these records.
        3.  Create a modal or dedicated view in the  component to display and edit each installment of a financial record.
        4.  Implement logic to convert and display currency values based on the mentee's .
    *   **Why fix this issue?** It is a critical requirement for the user to manage her business finances accurately.
    *   **Status:** IN PROGRESS
    *   **Is recurring issue?** N
    *   **Should Test frontend/backend/both after fix?** both

*   **Issue 2: Session Editing (P1)**
    *   **Description:** The user can view session details in a modal but cannot edit them after creation. An Edit button and functionality are required.
    *   **Next debug checklist:**
        1.  The agent already added a  endpoint and UI components. The next step is to test the entire flow to ensure it works correctly.
        2.  Verify that clicking the Edit button opens a pre-filled form and that saving the changes updates the session correctly.
    *   **Why fix this issue?** Allows the admin to correct mistakes or update session details without having to delete and recreate them.
    *   **Status:** IN PROGRESS
    *   **Is recurring issue?** N
    *   **Should Test frontend/backend/both after fix?** both

**In progress Task List**:
*   **Task 1: Display Agenda on Dashboard (P0)**
    *   **Description:** The user wants the mentee's dashboard to display a list or calendar of upcoming and past sessions.
    *   **Where to resume:** The agent already updated  to fetch sessions and added a placeholder UI. The next step is to verify the backend endpoint () works as intended for the logged-in mentee and to refine the UI to be a clear, user-friendly agenda.
    *   **What will be achieved with this?** Improves the mentee's user experience by providing a clear overview of their schedule.
    *   **Status:** IN PROGRESS
    *   **Should Test frontend/backend/both after fix?** both
    *   **Blocked on something:** None.

**Upcoming and Future Tasks**
*   **Upcoming Tasks:**
    *   **(P1) Full Real-Time Notifications:** The current implementation uses badges that update on page load. A full implementation using WebSockets for instant notifications (e.g., when a new message arrives) is still pending.
    *   **(P2) Centralized Mentee History Page:** The user requested a single, editable page for each mentee that consolidates all their information (profile, sessions, financials, tasks). This was part of the last user request but hasn't been fully started.
*   **Future Tasks:**
    *   None explicitly defined.

**Completed work in this session**
*   **Recently completed:**
    *   **CRUD for Mentees & Mentorias:** Added Edit/Delete functionality. (DONE)
    *   **CRUD for Financials:** Added Create/Edit/Delete with multiple payment methods. (DONE)
    *   **Direct Image Upload:** Implemented a system for uploading images for mentorias, products, and user profiles, fixing pathing issues so images display correctly. (DONE)
    *   **Enhanced Profile Page:** Created a comprehensive profile page for both admin and mentees to edit personal info, location, contact details, currency, and upload a profile picture. (DONE)
    *   **Enhanced Admin UI:** Implemented modals to view mentees linked to a mentoria and to view sessions linked to a mentee. (DONE)
    *   **UI/UX Fixes:** Added a view password icon on the login page. Fixed numerous dropdowns to show selectable data instead of requiring manual ID input. (DONE)
    *   **Backend Bug Fix:** Corrected a route ordering issue in FastAPI that caused  to fail. (DONE)
    *   **Added Link Fields:** Added fields for Google Drive links in Sessions and Sales Page links in Mentorias. (DONE)
    *   **Product Vitrine:** Styled the products page into a grid-based showcase with images and pricing. (DONE)
    *   **Testing:** Successfully ran the testing agent twice to validate major feature completions. (DONE)

**Earlier issues found/mentioned but not fixed**
*   None other than the pending tasks.

**Known issue recurrence from previous fork**
*   **Issue recurrence in previous fork:**  compilation errors.
*   **Recurrence count:** 1 (in this session)
*   **Status:** RESOLVED (The agent fixed the compilation errors early on).

**Code Architecture**


**Key Technical Concepts**
*   **Frontend:** React, Tailwind CSS, .
*   **Backend:** FastAPI,  (async MongoDB), ,  (JWT). File uploads are handled with  and stored locally.
*   **Database:** MongoDB.
*   **Authentication:** JWT-based with role separation ('admin', 'mentee').

**key DB schema**
*   : { ..., **profile_image_url, country, phone, address, preferred_currency** }
*   : { ..., **cover_image_url, sales_page_link** }
*   : { ..., **drive_link** }
*   : { ..., **cover_image_url, price** }
*   : { ..., **payment_date, currency** }

**changes in tech stack**
*   None.

**All files of reference**
*   : All backend logic resides here. Heavily modified.
*   : The core of the admin UI. Heavily modified.
*   : The user profile page. Completely overhauled.
*   : The mentee dashboard. Recently modified to include an agenda.
*   : Component for financial management. Recently modified.
*   : New component for handling all file uploads.
*   : New file containing country and currency data.

**Areas that need refactoring**
*    and  are monolithic and have grown excessively large. Future features, especially the Mentee History page, should be built in new, separate files/components to avoid further bloating these files and improve maintainability.

**key api endpoints**
*   : (POST) For all file uploads.
*   : (PUT) To update the extended user profile.
*   : (PUT) To edit a session.
*   : (GET) For the new comprehensive history view.
*   : (GET) For fetching the logged-in mentee's sessions.
*   : (GET) For an admin to get all sessions.

**Critical Info for New Agent**
*   **You must respond in Portuguese.**
*   The immediate priority is to complete the features requested by the user in the last interactions, which are now listed in the Pending Issues and In Progress Tasks sections.
*   Focus on **Issue 1 (Detailed Financial Editing)** and **Task 1 (Dashboard Agenda)** as they are top priorities for the user.
*   The codebase uses monolithic files (, ). Be mindful of their size. For new, distinct features like the Mentee History page, create new files instead of adding to the existing ones.
*   File uploads are now handled by the backend and served from the  path.
*   User credentials are frequently reset upon server restarts or by user actions. The latest known credentials are provided below.

**documents created in this job**
*   
*   
*    (Code backup for user)

**Last 10 User Messages and any pending user messages**
The last several user messages represent a rapid cycle of feature requests and feedback.
1.  **Request:** Add cover image to mentorias. (Status: DONE)
2.  **Request:** Help with exporting code to GitHub/HostGator. (Status: DONE - Agent created a downloadable ZIP as a workaround).
3.  **Bug:** Cadastro de mentoradas form is not working. (Status: User Error - Resolved).
4.  **Request:** Add sales page link to Mentorias and cover image to Products. Fix dropdowns in Sessions/Tasks/Financials to be selectable. (Status: DONE).
5.  **Request:** A comprehensive test of the entire site to catch all issues. (Status: DONE - Agent ran testing agent and fixed a key backend bug).
6.  **Bug:** Uploaded Google Drive images are not appearing. (Status: DONE - Agent explained the issue and implemented a direct upload system instead).
7.  **Request:** Implement the direct upload system. (Status: DONE).
8.  **Bug:** Uploaded images still not appearing. (Status: DONE - Agent fixed the URL path from  to ).
9.  **Request:** Add a Google Drive link field to Sessions. (Status: DONE).
10. **Request (Current Task):** A large set of new features: add payment date to financials, handle multiple currencies, add phone/country to user profiles, upload profile photo, add an edit button to sessions, and show an agenda on the dashboard. (Status: IN PROGRESS).

**Project Health Check:**
*   **Broken:** None.
*   **Mocked:** All data is test data.

**3rd Party Integrations**
*   **Google Calendar:** Partially implemented. Backend OAuth flow exists, but frontend integration is pending.
*   **Calendly / YouCanBookMe:** Planned, with UI placeholders created.

**Testing status**
*   **Testing agent used after significant changes:** YES (used twice successfully for major feature batches).
*   **Troubleshoot agent used after agent stuck in loop:** NO
*   **Test files created:** None.
*   **Known regressions:** None currently.

**Credentials to test flow:**
*   **Admin:**
    *   Email: 
    *   Password: 
*   **Mentee:**
    *   Email: 
    *   Password: 

**What agent forgot to execute**
*   The agent has not fully implemented the currency conversion logic, despite adding a currency selector to the UI.
*   The Upcoming Task for a centralized, editable Mentee History page was requested but has not been started yet.
*   The long-standing Future Task of implementing real-time notifications via WebSockets remains unaddressed.</analysis>
